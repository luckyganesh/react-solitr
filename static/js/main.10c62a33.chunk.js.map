{"version":3,"sources":["index.js","views/DeckView.js","data/cards.js","views/ReservedPileView.js","views/StackPileView.js","views/GameView.js","modles/Game.js","modles/Deck.js","modles/Card.js","modles/ReservedPile.js","modles/stackPile.js"],"names":["DeckView","deck","updater","className","hasNext","react_default","a","createElement","onClick","drag","hasOpenCard","card","getOpenCard","style","color","id","draggable","onDragStart","getUnicode","class","this","renderClosedCard","props","renderOpenCard","React","Component","ReservedPileView","pile","hasLastCard","getLastCard","onDrop","drop","onDragOver","allowDrop","StackPileView","stackPile","Array","getNoOfClosedCards","fill","map","x","openCards","getOpenCards","noOfOpenCards","length","index","_this$props","hasCard","renderClosedCards","renderOpenCards","GameView","_this","Object","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","state","game","bind","assertThisInitialized","updateDeck","setState","ev","preventDefault","dataTransfer","setData","target","data","getData","moveCard","reservedPiles","getReservedPiles","reservedPilesJSX","reservedPileNumber","push","views_ReservedPileView","_this2","stackPilesJSX","getStackPiles","views_StackPileView","DeckView_DeckView","getDeck","renderReservedPiles","renderStackPiles","Game","stackPiles","update","sourceDetails","_sourceDetails$split","split","_sourceDetails$split2","slicedToArray","source","destinationDetails","_destinationDetails$s","_destinationDetails$s2","destination","getSource","getDestination","noOfCards","cards","getCards","addCards","removeCards","Deck","closedCards","slice","splice","reverse","lastCard","pop","Card","cardDetails","type","number","unicode","ReservedPile","checkingCards","initialCard","shift","every","result","isNextForReserved","checkCards","checkNumber","concat","console","log","StackPile","isNextForStack","newCard","shuffledCards","lodash","shuffle","deckCards","cardNumber","noOfReservedPiles","reservedPile","noOfStackPile","noOfClosedCards","ReactDOM","render","GameView_GameView","document","getElementById"],"mappings":"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","file":"static/js/main.10c62a33.chunk.js","sourcesContent":["import React from 'react';\nimport ReactDOM from 'react-dom';\nimport lodash from 'lodash';\n\n//css\nimport './main.css';\n\n//data\nimport { Cards } from './data/cards';\n\n//view models\nimport GameView from './views/GameView';\n\n//game modles\nimport Game from './modles/Game';\nimport Deck from './modles/Deck';\nimport Card from './modles/Card';\nimport ReservedPile from './modles/ReservedPile';\nimport StackPile from './modles/stackPile';\n\nconst shuffledCards = lodash.shuffle(Cards).map(card => new Card(card));\n\n\nconst deckCards = [];\nfor (let cardNumber = 0; cardNumber < 24; cardNumber++) {\n    const card = shuffledCards.shift()\n    deckCards.push(card);\n}\n\nconst reservedPiles = [];\nfor (let noOfReservedPiles = 0; noOfReservedPiles < 4; noOfReservedPiles++) {\n    const reservedPile = new ReservedPile([]);\n    reservedPiles.push(reservedPile);\n}\n\nconst stackPiles = [];\nfor(let noOfStackPile = 0; noOfStackPile < 7;noOfStackPile++){\n    const closedCards = [];\n    for(let noOfClosedCards = 0; noOfClosedCards <= noOfStackPile - 1; noOfClosedCards++){\n        const card = shuffledCards.shift();\n        closedCards.push(card);\n    }\n    const openCards = [];\n    openCards.push(shuffledCards.shift());\n    const stackPile = new StackPile(closedCards,openCards);\n    stackPiles.push(stackPile);\n}\n\nconst deck = new Deck(deckCards);\nconst game = new Game(deck, reservedPiles,stackPiles);\n\nReactDOM.render(<GameView game={game} />, document.getElementById('root'));","import React from 'react';\n\nimport {EmptyCard,Default} from '../data/cards'\n\nexport default class DeckView extends React.Component {\n\n    renderClosedCard(deck,updater){\n        const className = \"card clickable pile-separator\"\n        if(deck.hasNext()){\n            return <div className={className} onClick={updater} >{Default}</div>\n        }\n        return <div className={className} onClick={updater}>{EmptyCard}</div>\n    }\n\n    renderOpenCard(deck,drag){\n        const className = \"card  pile-separator\"\n        if(deck.hasOpenCard()){\n            const card = deck.getOpenCard();\n            return <div style={{\"color\":card.color}} className={className} id=\"deck\" draggable=\"true\" onDragStart={drag}>{card.getUnicode()}</div>;\n        }\n        return <div className={className}>{EmptyCard}</div>;\n    }\n\n    render(){\n        return (\n            <div class=\"deck\">\n            {this.renderClosedCard(this.props.deck,this.props.updater)}\n            {this.renderOpenCard(this.props.deck,this.props.drag)}\n            </div>\n        )\n    }\n}","const Cards =\n  [\n    {\n      \"type\": \"spade\",\n      \"number\": \"1\",\n      \"color\": \"black\",\n      \"unicode\": \"\\u{1F0A1}\"\n    },\n    {\n      \"type\": \"spade\",\n      \"number\": \"2\",\n      \"color\": \"black\",\n      \"unicode\": \"\\u{1F0A2}\"\n    },\n    {\n      \"type\": \"spade\",\n      \"number\": \"3\",\n      \"color\": \"black\",\n      \"unicode\": \"\\u{1F0A3}\"\n    },\n    {\n      \"type\": \"spade\",\n      \"number\": \"4\",\n      \"color\": \"black\",\n      \"unicode\": \"\\u{1F0A4}\"\n    },\n    {\n      \"type\": \"spade\",\n      \"number\": \"5\",\n      \"color\": \"black\",\n      \"unicode\": \"\\u{1F0A5}\"\n    },\n    {\n      \"type\": \"spade\",\n      \"number\": \"6\",\n      \"color\": \"black\",\n      \"unicode\": \"\\u{1F0A6}\"\n    },\n    {\n      \"type\": \"spade\",\n      \"number\": \"7\",\n      \"color\": \"black\",\n      \"unicode\": \"\\u{1F0A7}\"\n    },\n    {\n      \"type\": \"spade\",\n      \"number\": \"8\",\n      \"color\": \"black\",\n      \"unicode\": \"\\u{1F0A8}\"\n    },\n    {\n      \"type\": \"spade\",\n      \"number\": \"9\",\n      \"color\": \"black\",\n      \"unicode\": \"\\u{1F0A9}\"\n    },\n    {\n      \"type\": \"spade\",\n      \"number\": \"10\",\n      \"color\": \"black\",\n      \"unicode\": \"\\u{1F0AA}\"\n    },\n    {\n      \"type\": \"spade\",\n      \"number\": \"11\",\n      \"color\": \"black\",\n      \"unicode\": \"\\u{1F0AB}\"\n    },\n    {\n      \"type\": \"spade\",\n      \"number\": \"12\",\n      \"color\": \"black\",\n      \"unicode\": \"\\u{1F0AD}\"\n    },\n    {\n      \"type\": \"spade\",\n      \"number\": \"13\",\n      \"color\": \"black\",\n      \"unicode\": \"\\u{1F0AE}\"\n    },\n    {\n      \"type\": \"club\",\n      \"number\": \"1\",\n      \"color\": \"black\",\n      \"unicode\": \"\\u{1F0D1}\"\n    },\n    {\n      \"type\": \"club\",\n      \"number\": \"2\",\n      \"color\": \"black\",\n      \"unicode\": \"\\u{1F0D2}\"\n    },\n    {\n      \"type\": \"club\",\n      \"number\": \"3\",\n      \"color\": \"black\",\n      \"unicode\": \"\\u{1F0D3}\",\n    },\n    {\n      \"type\": \"club\",\n      \"number\": \"4\",\n      \"color\": \"black\",\n      \"unicode\": \"\\u{1F0D4}\"\n    },\n    {\n      \"type\": \"club\",\n      \"number\": \"5\",\n      \"color\": \"black\",\n      \"unicode\": \"\\u{1F0D5}\"\n    },\n    {\n      \"type\": \"club\",\n      \"number\": \"6\",\n      \"color\": \"black\",\n      \"unicode\": \"\\u{1F0D6}\"\n    },\n    {\n      \"type\": \"club\",\n      \"number\": \"7\",\n      \"color\": \"black\",\n      \"unicode\": \"\\u{1F0D7}\"\n    },\n    {\n      \"type\": \"club\",\n      \"number\": \"8\",\n      \"color\": \"black\",\n      \"unicode\": \"\\u{1F0D8}\"\n    },\n    {\n      \"type\": \"club\",\n      \"number\": \"9\",\n      \"color\": \"black\",\n      \"unicode\": \"\\u{1F0D9}\"\n    },\n    {\n      \"type\": \"club\",\n      \"number\": \"10\",\n      \"color\": \"black\",\n      \"unicode\": \"\\u{1F0DA}\"\n    },\n    {\n      \"type\": \"club\",\n      \"number\": \"11\",\n      \"color\": \"black\",\n      \"unicode\": \"\\u{1F0DB}\"\n    },\n    {\n      \"type\": \"club\",\n      \"number\": \"12\",\n      \"color\": \"black\",\n      \"unicode\": \"\\u{1F0DD}\"\n    },\n    {\n      \"type\": \"club\",\n      \"number\": \"13\",\n      \"color\": \"black\",\n      \"unicode\": \"\\u{1F0DE}\"\n    },\n    {\n      \"type\": \"diamond\",\n      \"number\": \"1\",\n      \"color\": \"red\",\n      \"unicode\": \"\\u{1F0C1}\"\n    },\n    {\n      \"type\": \"diamond\",\n      \"number\": \"2\",\n      \"color\": \"red\",\n      \"unicode\": \"\\u{1F0C2}\"\n    },\n    {\n      \"type\": \"diamond\",\n      \"number\": \"3\",\n      \"color\": \"red\",\n      \"unicode\": \"\\u{1F0C3}\"\n    },\n    {\n      \"type\": \"diamond\",\n      \"number\": \"4\",\n      \"color\": \"red\",\n      \"unicode\": \"\\u{1F0C4}\"\n    },\n    {\n      \"type\": \"diamond\",\n      \"number\": \"5\",\n      \"color\": \"red\",\n      \"unicode\": \"\\u{1F0C5}\"\n    },\n    {\n      \"type\": \"diamond\",\n      \"number\": \"6\",\n      \"color\": \"red\",\n      \"unicode\": \"\\u{1F0C6}\"\n    },\n    {\n      \"type\": \"diamond\",\n      \"number\": \"7\",\n      \"color\": \"red\",\n      \"unicode\": \"\\u{1F0C7}\"\n    },\n    {\n      \"type\": \"diamond\",\n      \"number\": \"8\",\n      \"color\": \"red\",\n      \"unicode\": \"\\u{1F0C8}\"\n    },\n    {\n      \"type\": \"diamond\",\n      \"number\": \"9\",\n      \"color\": \"red\",\n      \"unicode\": \"\\u{1F0C9}\"\n    },\n    {\n      \"type\": \"diamond\",\n      \"number\": \"10\",\n      \"color\": \"red\",\n      \"unicode\": \"\\u{1F0CA}\"\n    },\n    {\n      \"type\": \"diamond\",\n      \"number\": \"11\",\n      \"color\": \"red\",\n      \"unicode\": \"\\u{1F0CB}\"\n    },\n    {\n      \"type\": \"diamond\",\n      \"number\": \"12\",\n      \"color\": \"red\",\n      \"unicode\": \"\\u{1F0CD}\"\n    },\n    {\n      \"type\": \"diamond\",\n      \"number\": \"13\",\n      \"color\": \"red\",\n      \"unicode\": \"\\u{1F0CE}\"\n    },\n    {\n      \"type\": \"heart\",\n      \"number\": \"1\",\n      \"color\": \"red\",\n      \"unicode\": \"\\u{1F0B1}\"\n    },\n    {\n      \"type\": \"heart\",\n      \"number\": \"2\",\n      \"color\": \"red\",\n      \"unicode\": \"\\u{1F0B2}\"\n    },\n    {\n      \"type\": \"heart\",\n      \"number\": \"3\",\n      \"color\": \"red\",\n      \"unicode\": \"\\u{1F0B3}\"\n    },\n    {\n      \"type\": \"heart\",\n      \"number\": \"4\",\n      \"color\": \"red\",\n      \"unicode\": \"\\u{1F0B4}\"\n    },\n    {\n      \"type\": \"heart\",\n      \"number\": \"5\",\n      \"color\": \"red\",\n      \"unicode\": \"\\u{1F0B5}\"\n    },\n    {\n      \"type\": \"heart\",\n      \"number\": \"6\",\n      \"color\": \"red\",\n      \"unicode\": \"\\u{1F0B6}\"\n    },\n    {\n      \"type\": \"heart\",\n      \"number\": \"7\",\n      \"color\": \"red\",\n      \"unicode\": \"\\u{1F0B7}\"\n    },\n    {\n      \"type\": \"heart\",\n      \"number\": \"8\",\n      \"color\": \"red\",\n      \"unicode\": \"\\u{1F0B8}\"\n    },\n    {\n      \"type\": \"heart\",\n      \"number\": \"9\",\n      \"color\": \"red\",\n      \"unicode\": \"\\u{1F0B9}\"\n    },\n    {\n      \"type\": \"heart\",\n      \"number\": \"10\",\n      \"color\": \"red\",\n      \"unicode\": \"\\u{1F0BA}\"\n    },\n    {\n      \"type\": \"heart\",\n      \"number\": \"11\",\n      \"color\": \"red\",\n      \"unicode\": \"\\u{1F0BB}\"\n    },\n    {\n      \"type\": \"heart\",\n      \"number\": \"12\",\n      \"color\": \"red\",\n      \"unicode\": \"\\u{1F0BD}\"\n    },\n    {\n      \"type\": \"heart\",\n      \"number\": \"13\",\n      \"color\": \"red\",\n      \"unicode\": \"\\u{1F0BE}\"\n    }\n  ]\n\nconst EmptyCard = \"\\u{1F0DF}\";\nconst Default = \"\\u{1F0A0}\";\n\nexport { Cards ,EmptyCard ,Default };","import React from \"react\";\n\nimport { EmptyCard } from \"../data/cards\";\n\nclass ReservedPileView extends React.Component {\n  render() {\n    const pile = this.props.pile;\n\n    if (pile.hasLastCard()) {\n      const card = pile.getLastCard();\n      return (\n        <div\n          id={\"reservedPiles_\" + this.props.id}\n          draggable=\"true\"\n          onDragStart={this.props.drag}\n          className=\"card pile-separator\"\n          onDrop={this.props.drop}\n          onDragOver={this.props.allowDrop}\n          style={{\"color\":card.color}}\n        >\n          {card.getUnicode()}\n        </div>\n      );\n    }\n\n    return (\n      <div\n        id={\"reservedPiles_\" + this.props.id}\n        className=\"card pile-separator\"\n        onDrop={this.props.drop}\n        onDragOver={this.props.allowDrop}\n      >\n        {EmptyCard}\n      </div>\n    );\n  }\n}\n\nexport default ReservedPileView;\n","import React from \"react\";\nimport { EmptyCard, Default } from \"../data/cards\";\n\nclass StackPileView extends React.Component {\n\n  renderClosedCards(stackPile, id) {\n    return new Array(stackPile.getNoOfClosedCards()).fill(0).map(x => (\n      <div className=\"card adjustable-card\" id={\"stackPiles_\" + id}>\n        {Default}\n      </div>\n    ));\n  }\n\n  renderOpenCards(stackPile, id, drag) {\n    const openCards = stackPile.getOpenCards();\n    const noOfOpenCards = openCards.length;\n    if(noOfOpenCards === 0){\n      return [];\n    }\n    return openCards.map((card, index) => {\n      return (\n        <div\n          className=\"card adjustable-card\"\n          style={{ color: card.color }}\n          id={\"stackPiles_\" + id + \"_\" + (noOfOpenCards - index)}\n          onDragStart={drag}\n          draggable=\"true\"\n        >\n          {card.getUnicode()}\n        </div>\n      );\n    });\n  }\n\n  render() {\n    const { stackPile, id, drag, drop, allowDrop } = this.props;\n    if (!stackPile.hasCard()) {\n      return (\n        <div\n          className=\"stack-pile stack-pile-separator\"\n          id={\"stackPiles_\" + id}\n          onDrop={drop}\n          onDragOver={allowDrop}\n        >\n          <div className=\"card adjustable-card\" id={\"stackPiles_\" + id}>{EmptyCard}</div>\n        </div>\n      );\n    }\n\n    return (\n      <div\n        className=\"stack-pile stack-pile-separator\"\n        id={\"stackPiles_\" + id}\n        onDrop={drop}\n        onDragOver={allowDrop}\n      >\n        {this.renderClosedCards(stackPile, id)}\n        {this.renderOpenCards(stackPile, id, drag)}\n      </div>\n    );\n  }\n}\n\nexport default StackPileView;\n","import React from \"react\";\nimport DeckView from \"./DeckView\";\nimport ReservedPileView from \"./ReservedPileView\";\nimport StackPileView from \"./StackPileView\";\n\nexport default class GameView extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = { game: props.game };\n    this.drag = this.drag.bind(this);\n    this.drop = this.drop.bind(this);\n    this.allowDrop = this.allowDrop.bind(this);\n  }\n\n  updateDeck() {\n    this.state.game.updateDeck();\n    this.setState(state => state);\n  }\n\n  allowDrop(ev) {\n    ev.preventDefault();\n  }\n\n  drag(ev) {\n    ev.dataTransfer.setData(\"text\", ev.target.id);\n  }\n\n  drop(ev) {\n    ev.preventDefault();\n    const data = ev.dataTransfer.getData(\"text\");\n    this.state.game.moveCard(data, ev.target.id);\n    this.setState(state => state);\n  }\n\n  renderReservedPiles() {\n    const reservedPiles = this.state.game.getReservedPiles();\n    const reservedPilesJSX = [];\n    for (\n      let reservedPileNumber = 0;\n      reservedPileNumber < reservedPiles.length;\n      reservedPileNumber++\n    ) {\n      reservedPilesJSX.push(\n        <ReservedPileView\n          pile={reservedPiles[reservedPileNumber]}\n          drag={this.drag}\n          drop={this.drop}\n          allowDrop={this.allowDrop}\n          id={reservedPileNumber}\n        />\n      );\n    }\n    return <div class=\"reserved-piles\">{reservedPilesJSX}</div>;\n  }\n\n  renderStackPiles() {\n    const stackPiles = this.state.game.getStackPiles();\n    const stackPilesJSX = stackPiles.map((stackPile, index) => {\n      return (\n        <StackPileView\n          stackPile={stackPile}\n          id={index}\n          drag={this.drag}\n          drop={this.drop}\n          allowDrop={this.allowDrop}\n        />\n      );\n    });\n    return <div className=\"stack-piles\">{stackPilesJSX}</div>;\n  }\n\n  render() {\n    return (\n      <div class=\"body\">\n        <div class=\"top-cards\">\n          <DeckView\n            deck={this.state.game.getDeck()}\n            updater={this.updateDeck.bind(this)}\n            drag={this.drag}\n          />\n          {this.renderReservedPiles()}\n        </div>\n        {this.renderStackPiles()}\n      </div>\n    );\n  }\n}\n","class Game {\n    constructor(deck,reservedPiles,stackPiles){\n        this.deck = deck;\n        this.reservedPiles = reservedPiles;\n        this.stackPiles = stackPiles;\n    }\n\n    getDeck(){\n        return this.deck;\n    }\n\n    getStackPiles(){\n        return this.stackPiles;\n    }\n    \n    updateDeck(){\n        this.deck.update();\n    }\n\n\n    getSource(sourceDetails){\n        if(sourceDetails === \"deck\"){\n            return this.deck;\n        }\n        const [source,id] = sourceDetails.split(\"_\");\n        return this[source][id];\n    }\n\n    getDestination(destinationDetails){\n        const [destination,id] = destinationDetails.split(\"_\");\n        return this[destination][id];\n    }\n\n    moveCard(sourceDetails,destinationDetails){\n        const source = this.getSource(sourceDetails);\n        const destination = this.getDestination(destinationDetails);\n        const noOfCards = sourceDetails.split(\"_\")[2];\n        const cards = source.getCards(+noOfCards);\n        const hasAdded = destination.addCards(cards);\n        if(hasAdded){\n            source.removeCards(+noOfCards);\n        }\n    }\n\n    getReservedPiles(){\n        return this.reservedPiles;\n    }\n}\n\nexport default Game;","class Deck {\n    constructor(cards){\n        this.closedCards = cards;\n        this.openCards = [];\n    }\n\n    hasNext(){\n        return this.closedCards.length !== 0;\n    }\n\n    hasOpenCard(){\n        return this.openCards.length !== 0;\n    }\n\n    getOpenCard(){\n        return this.openCards[this.openCards.length -1];\n    }\n\n    getCards(){\n        return this.openCards.slice(-1);\n    }\n    \n    removeCards(){\n        this.openCards.splice(-1);\n    }\n\n    update(){\n        if(this.closedCards.length === 0){\n            this.closedCards = this.openCards.reverse();\n            this.openCards = [];\n            return;\n        }\n        const lastCard = this.closedCards.pop();\n        this.openCards.push(lastCard);\n    }\n}\n\nexport default Deck;","class Card {\n    constructor(cardDetails){\n      this.type = cardDetails.type;\n      this.number = cardDetails.number;\n      this.color = cardDetails.color;\n      this.unicode = cardDetails.unicode;\n    }\n\n    getUnicode(){\n        return this.unicode;\n    }\n\n    isNextForReserved(card){\n      return (+this.number === card.number - 1) && (this.type === card.type);\n    }\n\n    checkNumber(number){\n      return this.number === number;\n    }\n\n    isNextForStack(card){\n      return (+this.number === +card.number + 1) && (this.color !== card.color);\n    }\n}\n\nexport default Card;","class ReservedPile {\n    constructor(cards){\n        this.cards = cards;\n    }\n\n    hasLastCard(){\n        return this.cards.length !== 0;\n    }\n\n    getLastCard(){\n        return this.cards[this.cards.length-1];\n    }\n\n    checkCards(checkingCards){\n        const cards = checkingCards.slice();\n        let initialCard = cards.shift();\n        if(cards.length === 0) return true;\n        return cards.every(card => {\n            const result =initialCard.isNextForReserved(card);\n            initialCard = card;\n            return result;\n        })\n    }\n\n    addCards(cards){\n        if(!this.checkCards(cards)){\n            return false;\n        }\n        if(this.cards.length === 0){\n            if(!cards[0].checkNumber(\"1\")){\n                return false;\n            }\n            this.cards = this.cards.concat(cards);\n            return true;\n        }\n        console.log(+cards[0].number + 1)\n        console.log(+this.getLastCard().number)\n        console.log((+this.getLastCard().number) === (cards[0].number - 1))\n        if(!this.getLastCard().isNextForReserved(cards[0])){\n            return false;\n        }\n        this.cards = this.cards.concat(cards);\n        return true;\n    }\n\n    getCards(){\n        return this.cards.slice(-1);\n    }\n\n    removeCards(){\n        this.cards.splice(-1);\n    }\n}\n\nexport default ReservedPile;","class StackPile {\n    constructor(closedCards,openCards){\n        this.closedCards = closedCards;\n        this.openCards = openCards;\n    }\n\n    hasCard(){\n        return this.openCards.length !== 0;\n    }\n\n    getNoOfClosedCards(){\n        return this.closedCards.length;\n    }\n\n    getOpenCards(){\n        return this.openCards;\n    }\n\n    addCards(cards){\n        if(!this.checkCards(cards)){\n            return false;\n        }\n        if(!this.hasCard()){\n            if(!cards[0].checkNumber(\"13\")){\n                return false;\n            }\n            this.openCards = this.openCards.concat(cards);\n            return true;\n        }\n        console.log(+cards[0].number + 1)\n        console.log(+this.getLastCard().number)\n        console.log((+this.getLastCard().number) === (+cards[0].number + 1))\n        console.log((+this.getLastCard().color) !== (cards[0].color))\n        if(!this.getLastCard().isNextForStack(cards[0])){\n            return false;\n        }\n        this.openCards = this.openCards.concat(cards);\n        return true;\n    }\n\n    getLastCard(){\n        return this.openCards[this.openCards.length - 1];\n    }\n\n    checkCards(checkingCards){\n        const cards = checkingCards.slice();\n        let initialCard = cards.shift();\n        if(cards.length === 0) return true;\n        return cards.every(card => {\n            const result =initialCard.isNextForStack(card);\n            initialCard = card;\n            return result;\n        })\n    }\n\n    getCards(noOfCards){\n        return this.openCards.slice(-noOfCards);\n    }\n\n    removeCards(noOfCards){\n        this.openCards.splice(-noOfCards);\n        if(this.openCards.length === 0 && this.closedCards.length !== 0){\n            const newCard = this.closedCards.shift();\n            this.openCards.push(newCard);\n        }\n    }\n}\n\nexport default StackPile;"],"sourceRoot":""}